---
title: 操作备忘录
description: 常用常查的combo
author: Hatrix
date: 2025-07-04 20:30:00 +0800
categories: [外脑系统]
tags: [操作记录]
math: true
mermaid: true
pin: true
image:
  path: https://cdn.jsdelivr.net/gh/SparkyXXX/Hatrix-s-Blog-Image/img/wallhaven-9d2g68.jpg
  alt: 操作记录
---

1. 更新系统环境变量之后要重启才能生效

2. 开了大写锁定之后标点也会变成英文的半角

3. ctrl+enter 跳出 typora 的代码块、ctrl+shift+m 公式块、ctrl+shift+k 代码块、ctrl+k 添加链接

4. 启动博客预览：bundle exec jekyll serve

5. matlab 切片操作 `V(:, 1:k)`，选取所有行，选取第 1 列到第 k 列

6. 在装配体中新建零件，保存到外部文件，单独打开零件，利用装配体中的参考画完之后，单独打开外部零件断开外部参考(断开之前显示——➡️，断开之后显示—x)，然后删除相关的草图约束，参考平面可能也需要重新选一个平行的。

7. sw草图平面解耦分开，一个草图只画一个功能，哪怕他们在同一个面，设计的时候 准备多套硬件模块以交叉验证这样方便后期调整，草图的依赖关系和层次要符合逻辑，不能想怎么画怎么画

8. vscode 中 ctrl+shift+p，python:select interpreter 即可导入虚拟环境

9. pip freeze 可以将环境下的包以 requirements.txt 的格式导出，使用 pip install -r requirements.txt 既可得到一个一样的环境

10. fn+\键切换背光设置

11. 代码快捷键失效多半是快捷键冲突了

12. CMakeLists添加

    ```cmake
    set(CMAKE_CUDA_ARCHITECTURES 89)
    set(CMAKE_CUDA_COMPILER /usr/local/cuda-11.8/bin/nvcc)
    ```

13. 查看ubuntu版本：lsb_release -a
    查看ubuntu架构：uname -m
    复制cp、移动mv、删除rm
    复制文件：cp source_file destination_file
    复制文件到另一个目录：cp source_file /path/to/destination/
    复制文件夹：cp -r source_directory /path/to/destination/

    hrx@hrx:~$ which cc
    /usr/bin/cc
    hrx@hrx:~$ ls -l /usr/bin/cc
    lrwxrwxrwx 1 root root 20 10月  1  2024 /usr/bin/cc -> /etc/alternatives/cc
    hrx@hrx:~$ ls -l /etc/alternatives/cc
    lrwxrwxrwx 1 root root 12 10月  1  2024 /etc/alternatives/cc -> /usr/bin/gcc
    hrx@hrx:~$ ls -l /usr/bin/gcc
    lrwxrwxrwx 1 root root 6  8月  5  2021 /usr/bin/gcc -> gcc-11
    hrx@hrx:~$ update-alternatives --display gcc
    gcc - 自动模式
      最佳链接版本为 /usr/bin/gcc-12
     链接目前指向 /usr/bin/gcc-12
      链接 gcc 指向 /usr/bin/gcc
      从链接 g++ 指向 /usr/bin/g++
    /usr/bin/gcc-12 - 优先级 60
      次要 g++：/usr/bin/g++-12

    update-alternatives --display gcc可以查看linux下`gcc` 命令的多版本管理情况，输出类似下面这样

    ```bash
    gcc - auto mode
      link best version is /usr/bin/gcc-12
      link currently points to /usr/bin/gcc-12
      link gcc is /usr/bin/gcc
    /usr/bin/gcc-11 - priority 10
    /usr/bin/gcc-12 - priority 100
    
    ```

    gcc-12 的优先级是100，gcc-11 优先级是10，优先级高的被自动选中。`/usr/bin/gcc` 这个命令实际上是一个软链接，由 `update-alternatives` 管理，自动指向优先级最高的版本。在有sudo权限的情况下，可以更改priority来改变默认使用的gcc版本；

    没有sudo权限的情况下，可以按照如下步骤指定自己的账号使用的gcc版本

    ```bash
    mkdir -p ~/mygcc/bin
    cp /usr/bin/gcc-11 ~/mygcc/bin/gcc
    cp /usr/bin/g++-11 ~/mygcc/bin/g++
    
    # 确保可执行权限
    chmod +x ~/mygcc/bin/gcc
    chmod +x ~/mygcc/bin/g++
    
    # 配置环境变量（放到 ~/.bashrc 或者当前终端）
    export PATH=~/mygcc/bin:$PATH
    
    # 验证
    which gcc
    gcc --version
    ```

    使用CLion设置CMake时，可以

    - 设置环境变量C=/usr/bin/gcc-11;CXX=/usr/bin/g++-11
    - 设置工具链：C编译器和C++编译器分别指定为/usr/bin/gcc-11、/usr/bin/g++-11
    - CMake中的CMake选项填写-DCMAKE_C_COMPILER=/usr/bin/gcc-11 -DCMAKE_CXX_COMPILER=/usr/bin/g++-11

    来指定CMake指定的版本

    注：理论上这样设置就可以了，但目前尚不清楚是由于什么原因，导致设置之后并不能稳定成功。（当时CLion的远程开发功能尚在beta阶段，不知道是不是软件本身的bug，没有进一步死磕，暂时就记录到这里）

    捣鼓这个的起因是A100的gcc默认为gcc-12，但是cuda-11.8不支持gcc-11之后的GNU编译链；正常来说，如果gcc版本兼容，CLion不需要进行任何设置。

14. 刷新环境变量

    ```bash
    source ~/.bashrc
    ```

15. conda 常用命令：

   ```shell
   conda create -n my_env_name python=3.10
   conda activate my_env_name
   conda deactivate
   conda env list
   conda install -c anaconda pkg_name
   ```

   1. tensorboard 命令：tensorboard --logdir=my_log_path --port=6007

11. MySQL 入门指令

    连接到数据库

    ```bash
    mysql -u username -p
    ```

    所有的 mysql 语句以分号结尾

    数据库操作

    ```sql
    table_name create database database_name; -- 创建数据库
    drop database database_name; -- 删除数据库
    show databases; -- 查看当前数据库
    use database_name; -- 选择要操作的数据库
    ```

    表操作

    ```sql
    create table table_name(
    	name int
    	name varchar(100)
    ) -- 创建表，小括号中填写列名和数据类型
    desc table_name; -- 查看表结构
    # 以下四条语句用于修改表结构
    alter table table_name modify column name varchar(200);
    alter table table_name rename column name to nickname;
    alter table table_name add column content text;
    alter table table_name drop column content;
    drop table table_name; --删除表
    ```

    数据操作

    ```sql
    insert into table_name (id, name) values (1, "user_name1"), (2, "user_name2"); --插入一条数据，values后面跟上多组数据可以添加多条数据
    select column_name from table_name; -- 按列名查询数据，*表示所有列
    update table_name set name = "new_name" where id = 1; --修改数据，where后面为条件字句，根据实际情况修改
    delete from table_name where id = 2; --删除数据
    ```

    查询可以通过 where 语句配合 AND，OR，NOT，BETWEEN…AND…，IN，IS 等关键字进行，LINK 可以进行模糊搜索，REGEXP 用于正则表达式匹配。

    子查询机制，实质上就是查询的嵌套，即将一个查询的结果作为另一个查询的条件，类似于链式调用

    表关联机制，通过主键约束和外键约束关联多个表的数据，实质上是笛卡尔积+过滤条件

12. ubuntu下CUDA环境变量设置

    ```bash
    export CUDA_HOME="/usr/local/cuda-11.4"  # 可选设置
    export PATH="/usr/local/cuda-11.4/bin:$PATH"
    export LD_LIBRARY_PATH="/usr/local/cuda-11.4/lib64:$LD_LIBRARY_PATH"
    ```

    之后可以用`which nvcc`找编译器路径

13. 查看当前目录下存储使用情况

    ```bash
    du -hd 1
    ```

14. 

    

    
