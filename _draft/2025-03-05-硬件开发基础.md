---
title: 硬件开发基础
description: 以AD-嘉立创为载体的硬件开发基础
author: Hatrix
date: 2025-03-05 08:40:00 +0800
categories: [硬件开发]
tags: [实践技能]
math: true
mermaid: true
pin: false
image:
  path: ../assets/post-pics/Alinx_7010.jpg
  alt: Alinx 7010
---

## 基本概念

1. 以 AD-嘉立创平台为例，从零开始到拿到一块板子的工作流一般为：

   - 确定板子功能以及需要的元器件
   - 在嘉立创等多个平台寻找需要的元器件及相应的可导出的 AD 文件(初学阶段一般不会自己画元件的原理图和封装，找现成的即可)
   - 按一定的规范建立自己的元器件库(如果从零开始则建议执行这一步，有现成的可靠的库则可以跳过)
   - 从元器件库中选择需要的元器件，绘制原理图，完成连线、位号标注和网络标签的添加等，最后 Validate
   - 仔细检查原理图，并且最好能找不同的人审核(个人习惯，因为原理图的错误在 PCB 布局的时候基本不会有机会发现，并且即使在 PCB 布局时发现了错误，返回到原理图中修改，也多少会对已经完成的布局有所影响，徒增工作量，所以建议在进行 PCB 布局前仔细检查原理图)
   - 确定板子外形，可从 SW 或 AutoCAD 中导入 dwg/dwf 文件，确定外框形状和孔位信息
   - 根据制造厂商的工艺参数设置 DRC 规则
   - 将原理图导入 PCB 中
   - 进行层叠设计(2 层板以上需要执行这一步，否则跳过)
   - 按功能模块大致确定元器件布局(可利用 AD 的“交叉选择”功能在原理图中选择某个功能模块，在 PCB 中会自动匹配相应的元器件)
   - 对逐个功能模块进行器件摆放、打孔、布线等
   - 根据需要进行铺铜
   - 运行 DRC，解决警告和报错
   - 在嘉立创完成 PCB 打样并购买元器件，或使用 SMT 服务，完成元器件匹配操作

2. 元器件：

   一个元器件绑定了它的封装和 3D 模型，3D 模型和封装是一一对应的

   ![image-20250309150709744](../assets/post-pics/image-20250309150709744.png)

   - Designator：元件标识符，又称位号，在一张原理图中唯一；按照标准的元件类型前缀 + 流水号命名，默认显示

   - Comment：注释，记录型号或参数，默认显示

   - Description：描述，对元件功能、特性等进行说明，默认不显示

   - Type：类型，有以下选项

     - Standard：标准元件类型，参与电路的电气功能实现，并且会出现在 BOM 中
     - Mechanical：机械类元件，表示 PCB 上的非电气功能部件，如安装孔、定位槽、散热片安装支架等，不参与电路的电气连接
     - Graphical：图形类，仅作为图形示意，不具备电气特性和物料属性的对象
     - Net Tie (in BOM)：带物料清单的网络连接点
     - Net Tie (No BOM)：不带物料清单的网络连接点
     - Jumper (No BOM)：无物料清单的跳线，表示跳线连接，不会包含在物料清单内(一般用不到，使用零欧电阻专门用于飞线或放排针插跳线帽即可)

   - Design Item ID：设计项标识，是元器件在原理图库中的名称，在整个项目中唯一

   - Footprint：封装，定义了元件在 PCB 上的物理尺寸、引脚布局和焊接方式。填写准确的封装名称，可参考标准封装库或公司内部封装库命名规则(按照 PCB 库中对应的元件填写)。PCB 中的 Footprint Name 直接在库中选择对应的。

   - Models：模型，包括 3D 模型、信号完整性模型等，填写正确的模型文件路径即可。

   - Parameters：元件参数，填写制造商名称、供应商编号、数据手册链接等信息

   - Electrical Tyoe：元器件引脚的属性：

     - Passive：无源引脚，该引脚不提供驱动能力，仅作为电路中的普通连接点

     - Input：输入引脚，只能流入电流和信号(如果器件有个别输入引脚不能悬空，但有时的确也用不着它，有时很容易就把它给忘了，此时就可以将它的 Electrical Type 设成 Input，到时运行 DRC 时如果没有对这个引脚进行任何连接，软件将会发现警告或者报错)

     - Output：输出引脚，只能输出电流和信号

     - I/O：输入 / 输出引脚

     - Power：电源引脚，用于连接电源，为元件提供工作所需的电能，如芯片的 VCC、GND 引脚 。

     - Open Collector：集电极开路引脚，这种引脚需要外接上拉电阻才能正常输出高电平，具有 “线与” 逻辑功能，常用于需要多个设备共享总线等场景。

     - Open Emitter：发射极开路引脚，与集电极开路引脚类似，不过是从发射极输出，也需要外接下拉电阻来正常工作 。

     - HiZ：高阻态引脚，处于此状态时，引脚的等效阻抗非常高，几乎不吸收也不输出电流，类似于与电路断开连接，常用于总线结构中，实现设备的隔离。

3. 原理图：

   ![image-20250309151530836](../assets/post-pics/image-20250309151530836.png)

   - Components：元器件

   - Wires：具有电气属性的导线

   - Buses：总线，用于简化原理图布线

   - Sheet Symbols：图纸符号，代表子原理图，用于构建复杂电路的模块化设计

   - Sheet Entries：图纸入口，用于建立图纸符号与子原理图之间的信号连接关系

   - Net Labels：网络标签，用于标识具有相同电气连接的导线

   - Parameters：参数，原理图库中勾选可见的部分在原理图中属于参数

   - Ports：端口，用于不同原理图之间或同一原理图不同部分之间的信号交互

   - Power Ports：电源端口，用于连接电源和地的网络

   - Texts：文本，标注补充信息

   - Drawing objects：绘图对象，用于原理图的辅助说明和美观，无电气特性。

   - Visible Grid：可视栅格，默认设置为 10mil

   - Snap Grid：捕捉栅格，设置为可视栅格的一半或四分之一

4. PCB：

   ![image-20250309152352294](../assets/post-pics/image-20250309152352294.png)

   - Components：元器件

   - 3D Bodies：元器件的三维模型

   - Keepouts：禁止布线层对象

   - Tracks：铜膜导线，是 PCB 上电气连接的主要部分

   - Arcs：圆弧，可设置是否具有电气连接属性

   - Pads：焊盘，元器件引脚与 PCB 铜膜连接的金属部分，用于焊接元件引脚。有直插型焊盘和表贴型焊盘两种；直插型焊盘在 AD 中显示为灰色(Multi-Layer)。表贴型焊盘是元器件的一部分，一般不单独放置；直插型焊盘可以单独放置，中间有通孔，可以分别设置焊盘的尺寸和中间通孔的尺寸。直插型焊盘在设置设计规则时，需要考虑孔径与导线宽度、焊盘与周围其他对象的间距等规则，以确保电气性能和可制造性。表贴型焊盘主要关注焊盘与导线、焊盘之间的间距等规则，以及与元件引脚的匹配程度，同时要考虑焊锡膏印刷和回流焊接的工艺要求。直插型焊盘表面不能有阻焊油墨覆盖，这样才能保证与焊锡良好接触，实现焊接；过孔在某些工艺中可选择覆盖阻焊油墨(盖油)，防止过孔处短路或被氧化，也可不覆盖(开窗)，视具体设计要求而定。

   - Vias：过孔，用于不同 PCB 层之间的电气连接。可通过更改起始层和终止层来设置盲孔(将 PCB 内层走线与 PCB 表层走线相连，此孔不穿透整个板子)和埋孔(只连接内层之间的走线，处于 PCB 内层中，从 PCB 表面看不出来)。

   - Regions：区域，用于设计实心铜膜，一般用于大功率元器件底部散热，代替大电流走线；不区分其他对象，连接区域内的所有网络，只能存在一个网络，不然会造成短路。一般在在布线之前填充完成。支持绘制任意形状，可由其它图形转换而来，如可以先在 PCB 板的顶部丝印层绘制需要的图形，再转换为 Regions。

   - Fills：与 Regions 类似，唯一的区别是，Fills 只支持矩形，而 Regions 支持任意形状。

   - Polygons：多边形铺铜，一般用于大面积的电源或接地连接，增强电气性能，减少电磁干扰。也可用于屏蔽特定区域。区分不同对象，会自动连接相同网络并避开其他网络，一般在布线之后进行。

   - Texts：文本，包括元件标注、网络名称、说明文字等

   - Rooms：空间区域，用于定义一个局部元件集合摆放的相对关系，一个用途是可以为不同的 Room 设置不同的布局规则设置，比如线宽规则(使用规则查询语句 WithinRoom 来筛选 Room 对象)；另一个用途是具有多组相同布局布线的电路(Copy Rooms Formats)

多图纸设计：图纸包括两种结构关系，一种是层次式图纸，该连接关系是纵向的，也就是某一层次的图纸只能和相邻的上级或下级有关系；另一种是扁平式图纸，该连接关系是横向的，任何两张图纸之间都可以建立信号连接。Altium Designer 提供的网络标识有：Net Label，Port，Sheet Entry，Power Port，Off-sheet Connector，它们的共同点是：名称一致时均连接在一起。其中，"Port”和“Net Label”的作用范围是可以在 Options 中设置的。Net Label 作用范围为单页原理图，Port 和 Off-sheet Connector 均适用于跨页原理图，Power Port 忽略结构，都是连接在一起的。

PCB 中的各个层：板子从中间向外有 top 和 bottom 两个方向，以 top 为例，以两层版的工艺，按照从内向外的顺序有信号层 top layer，助焊层/锡膏层 top paste，阻焊层 top solder，丝印层 top overlay，底部方向同理，top layer 和 bottom layer 之间用 PP 片(半固化片 Prepreg)作绝缘介质层。对于层数高于两层的板子，在两个信号层 top layer 和 bottom layer 之间还有专门的底层和电源层。

PP 片在 PCB 制造中主要用于层间粘结与绝缘。在多层 PCB 生产中，它夹在不同的导电层(如内层铜箔线路层)之间，通过加热、加压等工艺固化后，能将各层紧密粘结在一起，同时保证各层之间有良好的绝缘性能，避免出现短路等电气故障。FR-4 是一种耐燃材料等级的代号，代表树脂材料经过燃烧状态必须能够自行熄灭的一种材料规格。它是由环氧树脂加上填充剂以及玻璃纤维所做出的复合材料，属于环氧玻璃布层压板。FR-4 是 PCB 使用的基板，具有较高的机械性能和介电性能，较好的耐热性和耐潮性，并有良好的机械加工性。PP 片是 FR-4 材料制造过程中的一个中间产物或组成部分，通过 PP 片的粘结作用，将玻璃纤维布和环氧树脂等材料结合在一起，最终形成具有良好性能的 FR-4 基板材料用于 PCB 制造。

![image-20250309203922773](../assets/post-pics/image-20250309203922773.png)

除此之外，还有 keep-out layer 或某一个 mechanical layer 用作规定板子外形(不要同时用)，其它的诸如 drill guide、drill drawing、以及各个 Mechanical 机械层均不常用，暂时可以忽略。

- top layer 和 bottom layer 为信号层，在 PCB 制造中为保留铜皮的部分，在该层布线、铺铜以及封装中对应焊盘位置的区域，在信号层中均代表在该层留有相应的铜皮

  ![image-20250318154002839](../assets/post-pics/image-20250318154002839.png)

- top paste 和 bottom paste 为助焊层，在 PCB 制造中为喷锡的部分，这一层由贴片型器件的封装决定，也就是所谓的焊盘，一般不手动修改。在元器件封装中，焊盘一般比信号层对应的铜皮区域略大或两者一样大。

  ![image-20250318155045897](../assets/post-pics/image-20250318155045897.png)

- top solder 和 bottom solder 为阻焊层，在 PCB 制造中为覆盖绿油的层(虽然也有其它颜色的阻焊油漆，但一般统称绿油)，该层为负片输出，也称阻焊开窗，即默认整层覆盖绿油，只在有开窗的位置不盖油，相当于在整层绿油的基础上作减法操作。由于阻焊层向内为助焊层或信号层，因此开窗的位置会露出相应的焊盘或其它铜皮。在元器件封装中，阻焊区域一般比对应的焊盘区域略大。

  ![image-20250318155506515](../assets/post-pics/image-20250318155506515.png)

3D 模型是和封装绑定的，可从嘉立创 EDA 中导出元件的 3D 模型，相对比较费时间，如有需要建议直接找现成的 3D 封装库。

## 注意事项

1. 直插型焊盘直径要略大于孔径，否则打孔会把焊盘打掉。焊盘不起作用，可能在拧螺丝固定时导致上下层铜皮短路。焊盘是带有网络的，孔壁也是金属。
2. 避免直角走线，直角处线宽突变为原来的根号二倍，且直角走线的反射较为严重。
3.

## 设计规范

## 软件界面说明

## 软件操作说明

原理图库可以更新到原理图，PCB 库可以更新到 PCB，原理图和 PCB 可以相互更新改动

Gerber 光绘文件胶片？

走线宽度和线距一样，线到孔的距离在此基础上大些

打孔在 PCB 设计中究竟有什么影响和作用？

铜厚一般用 1oz 即可，2oz 只有在做对散热要求较高的电源中才会使用，另外也可以用 1oz 铜然后阻焊层开窗往上堆锡。1oz 约为 35 微米，定义为把 1oz 重(约 28.35g)、密度为 8.9g/cm³ 的纯铜平铺到 1 平方英尺(约 929.03 平方厘米)的面积上所形成的厚度 1。

器件摆放主要由板间连接关系和信号流向决定

弯曲的走线是为了走线等长，在高速 PCB 中需要考虑这一点。比如几个 G 的信号如果走线不等长，那到达的时间就不一样从而产生误判

四层板几乎不需要层叠设计，六层板及以上需要考虑这一点：一般有一个不分割的整个的地，第四层是信号层，第五层是电源层，电源层也尽量不分割，如果有别的电源就想办法绕，第六层也是信号层。最佳信号层是第一层和第三层，次佳信号层是第四层和第六层

细线过不了大电流的制约因素主要是压降和温升(导线就是电阻)

10mil = 0.254mm

对于 10mil 的走线，1A 的电流产生 19.6mV/cm 的压降，温升约 10℃

1A 的电流至少 10mil，建议 15mil；2A 的电流至少 20mil，建议 30mil；3A 的电流至少 60mil，建议 100mil，大于 3A 建议铺铜或开窗

小于 10mil 线宽，建议电流小于 0.1A

可用数方格的方法计算走线电阻，铜厚 1oz 时，一个导线方格的电阻额约为 0.5mΩ，且与方格边长无关，该方法是通过铜的电阻率算出来的，对细长导线的计算非常准。

盘中孔工艺是指在焊盘上打孔，但通过镀铜的方式将过孔隐藏在内部，确保表面焊接强度和机械强度可靠。在复杂的高层板设计中，在允许焊盘上打孔可以降低 layout 难度，节约时间，优化信号质量

阻抗匹配是高速 pcb 设计中的重要概念，以标准的通信模型为例，当信号在信号源、传输线、接收端三个部分传输时，如果相邻部分的阻抗不一致，就会在接触点处发生反射，不一致的程度越高，反射的现象就越强烈。所谓的阻抗匹配，就是要保证三个部分的阻抗一致。信号源和接收端的阻抗可以在相应的数据手册中找到，因此设计 PCB 走线的阻抗即可(如果信号源)；例如 USB 阻抗是差分 90Ω，SDIO 是单端 50Ω。PCB 板厂会有专门的阻抗计算的页面，输入需求阻抗、阻抗模式、阻抗层等信息就可以自动计算得到在该厂家的工艺下，任意阻抗所对应的走线宽度，在设计时设置相应的宽度，并在走线的反面画一个参考用的地平面即可。另外注意，阻抗与走线长度无关，但是和其它参数都有关，比如 PCB 厚度、层数、铜厚，甚至是厂家的生产工艺

![image-20250318170908046](../assets/post-pics/image-20250318170908046.png)

沉金工艺是什么

SMA 接头是什么

---

PCB设计分为原理图和PCB部分，目前以Altium Designer为载体记录笔记。

焊接完成后，用万用表测一遍所有电压输入输出对地有没有短路

32.768kHz的RTC晶振删掉，改孔径，四边形走线

MCU有虚焊，贴上了但是没焊上；引脚掰弯

阻容摆正了再焊，补锡使得含焊点圆润

晶振虚焊，可以所有引脚都翘起来焊

外壳短路，贴布基胶

LDO输出偏低，芯片坏；滤波电容选大一点；LDO原理

测通断分析哪里断了

栈擎开发板的正插USB反插UART是这样实现的

![image-20250526223413019](../assets/post-pics/image-20250526223413019.png)

## 原理图规范

1. 创建一个器件的原理图包括：元件边框、管脚（顺序和名称）、位号名称、说明。管脚序号和实物通过封装一一对应
2. 元器件命名：电阻R、电容C、电感L、二极管（包括LED）D、接插件J、晶振X、三极管Q、芯片U、按键开关S、变压器T，保险丝F
3. 芯片的Design Item ID和Comment写芯片型号；电阻电容的Design Item ID写RES/CAP+封装形式，Comment不写（在原理图中以文本的形式标注阻值/容值）；排针Design Item ID和Commen写HEADER m×n，Comment写，Designator写位号命名，Description写器件功能
4. 引脚类型根据器件引脚功能写，在具有复用功能的引脚上要求比较高（如单片机引脚）
5. VCC和GND不能直接连到电路引脚上，要通过连线连接
6. 引脚过多的芯片分bank
7. 芯片引脚左右排布，上下不要有引脚，默认引脚朝右朝下
8. 原理图要按功能分区
9. 片子引脚的位号和名称都显示，位号放引脚上，名称放片子内；通用元器件位号和名称都不显示。引脚颜色黑色，通用元件颜色蓝色，通用元器件管脚长度100mil，芯片和排针管脚长度300mil，矩形中心与坐标原点对齐

## PCB规范

1. 根据制作厂家的工艺参数设置规则，且最好留点余量

2. 一个完整的封装包括焊盘、管脚序号、丝印（表示实物的大致范围）、阻焊、1脚标识

3. 常用封装：0805、0402、0603

4. 电容靠近信号源头放，因其对信号滤波的作用范围有限；电阻除了阻容共串（一起才能发挥作用）外，位置无所谓。（去耦电容）

5. 信号线一般在10mil就可以，对于电源线，对过孔尺寸的内外径、电源线线宽宽都有要求，根据多大面积能过多大电流（留点余量），计算过孔内外径并根据铜皮厚度计算线宽

6. 不要有短段的弯线

7. 不要直角走线，信号反射对信号质量有影响

8. 一个孔不出两根线

9. 信号线不要走过孔，只有电源线或者GPIO这样只分高低电平的非信号线才可以走过孔

10. 铺铜的原则：面积尽可能大、不要有铜皮尖角、很细的铜以及孤铜、芯片底下不铺铜；高层板的铺铜接地

11. 铺铜之后要切割工整

12. 板子周围打细小小孔（过孔）可以抗外界干扰

13. 焊盘上不打孔，过孔打在焊盘上容易机焊元件放歪以及容易漏锡虚焊，非要打用盘中孔工艺

14. 时钟线等长以获得更高的精度，时钟电路可以看看数据手册中的推荐电路和布局

15. 电源芯片一定要看看推荐布局，而且要做电源树，好几路之间的铺铜距离要比一般线路之间的更大些

16. 对于常规板，过孔（用于板子内部走线的）推荐盖油（tended），盖油之后的过孔上可以放丝印

17. 扇孔通俗理解就是拉线打过孔，多层板走线就近打孔，可以缩短回流路径减少干扰。差分信号换层时，其换层过孔附近必须添加GND过孔，保证其回流路径短。

18. 过孔类型及设计数量应考虑其载流能力。为保证设计余量，有空间会按计算的2倍数量处理。

    过孔扇出要考虑其间距，要求2个过孔之间保证能过一根信号线，防止过孔破坏地与电源的完整性。2个过孔之间的中心间距建议在1mm以上（39.37mil）

    板边须沿着板框内缩的位置，打一圈GND过孔，过孔与过孔的距离在50-200mil左右

19. 电源走线可以多边形铺铜覆盖，全连接铺铜

20. 信号线能不打孔就不打孔，电源能打孔就打孔

21. 丝印的目的是手工焊接时的区分和定位，标明位号即可，一般只显示丝印和开窗层Solder即可。丝印位号不上阻焊，方向不超过两个（规定为字母在左和字母在下）。丝印大小根据元器件密集程度，规范为4/25mil（高密度）、5/30mil（中密度）、6/45mil（低密度），丝印字体用Sans Serif

## 元件购买

CMOS：索尼（更好）、OV

电源芯片：TI德州仪器、MPS

通用元器件：云汉芯城、贸泽电子、得捷电子

接插件：TE泰科

电阻电容：MURATA、YAGEO

电容一般都用陶瓷电容，容差选1%或0.1%，15ppm

板型材料一般选FR-4，板厚1.6mm，经常接触选无铅喷漆

## 规则设置

![image-20250526223426091](../assets/post-pics/image-20250526223426091.png)

间距6mil，信号线宽6mil，电源线宽15mil，最小孔径12mil，过孔经验公式：外径=2*内径+-2mil，反焊盘间距8mil，丝印与阻焊间距2mil（在生产规则中），焊盘到绿油的距离。建议单边 2.5mil。20mil走1A电流，PWM走线适当加粗，10~15mil，丝印间距2mil。负片层过孔全连接，反焊盘间距9~12mil，一般正片层通孔焊盘（DIP）和SMD焊盘十字连接，过孔全连接；需要过大电流另行考虑.孔间距12mil以上否则容易崩孔。最小阻焊桥宽度（MinimumSolderMaskSliver）4mil，丝印与阻焊间距3.5mil以上，丝印间距4mil以上

过孔规则设置后需要tp进入默认设置，改过孔对应的默认设置

设置完规则后要检查DRC检查中是否运行这一项

### 嘉立创打板规则

[嘉立创工艺参数](https://www.jlc.com/portal/vtechnology.html?spm=PCB.Homepage.functionbar.1015)

下单默认：FR-4板材，成品板厚1.6mm，外层铜厚1盎司，绿色阻焊白色丝印，过孔盖油，，焊盘有铅喷漆，最小孔径/外径0.3mm（0.4/0.45）（0.45代表加阻焊一起的）

## 软件操作

**快捷键**

1. 画板子前先windows + space切换成美式键盘
2. dsd从选中边框重定义板框大小
3. ctrl + m 测量
4. eos设置原点
5. tve从选中边框创建区域（填充）
6. tvt从选中边框创建非铺铜区域（创建后将边框删除），也可放置多边形铺铜挖空区域
7. tvb从选中边框板框切孔
8. tvm从选中边框创建ROOM
9. ctrl + w 或f2 布线
10. ctrl + c 复制先要选择位置，ctrl + v是带位置粘贴的
11. ctrl 拖动线进行调整，解决DRC并尽量使布线均匀
12. te泪滴
13. tgm铺铜管理器
14. tga全部重新铺铜，所有铺铜确定后删除铺铜挖空区域
15. dr设置DRC规则
16. td运行DRC规则检查
17. vb翻转板子
18. L切换层
19. shift + s单层显示
20. f6 矩形排列所选择器件
21. 6线选
22. 7无障碍框选
23. 小键盘8246上下左右对其
24. 小键盘79水平垂直等间距
25. 小键盘5定位文本位置
26. q转换单位
27. f3 放置过孔
28. f4 多边形铺铜
29. sc选择连接的整条线
30. sn网络选择
31. ctrl + h 或sp选择物理连接一起的
32. tm复位错误
33. tc从PCB中查找对应的原理图
34. shift + r 切换忽略 / 围绕障碍物走线
35. ctrl + 点击线路可以高亮某一条线，ctrl + 点击其它地方取消高亮
36. 多根走线
37. 捕捉栅格（调整栅格大小）V+G+S（快捷键）
38. Designator（元器件位号）
39. Comment（表示元器件属性的大小）
40. Description（备注）
41. 英文模式下→按“G”键可以切换网络（Grid）大小，双击“G”可以自定义网格大小。
42. PCB中布线按TAB键可以设置线的宽度大小。
43. 按住shift多选，
44. ctrl+c会先确定复制中心，粘贴时是带位置的
45. 可以导入dxf/dwg，导出dxf/dwg，step
46. Gerber 是一种光绘文件格式
47. imperial英制单位，metric公制单位
48. 焊盘和过孔
49. 每次都要取消勾选添加add room和remove class？
50. ROOM用于有N个相同的模块布局布线？
51. 3D模型只有焊盘，可以加上器件模型
52. 视图选项卡中的板子规划模式用于规定板子大小，挖槽等等
53. 原理图界面ctrl+L的板级注释是什么？
54. tp打开首选项，都是什么，推荐的首选项设置
55. 每个规则都是什么，drc中的在线和批量是什么
56. report options中的这几个都是什么

![image-20250526223447441](../assets/post-pics/image-20250526223447441.png)

1. 使用在线 DRC 时，在设计过程中只要出现违反规则的操作，比如线宽设置小于规定值、元件间距不足等，软件会马上给出提示，方便设计者及时发现并修正问题；关闭在线 DRC 后，设计过程中不会实时提示错误，只有后续手动运行批量 DRC 检查时，才会显示违反规则的地方
2. 十字铺铜和全包围铺铜的差别（下面好像有）
3. 有时候需要在一个器件两端设置同一个网络：按住shift键分别点选两个相同网络的焊盘，在选中状态下打开properties，找到Jumper改成1（jumper是跳线吗，AD中的跳线有什么用，跳线不是调试临时用的吗？）
4. 大厂的PCB设计
5. **xSignals使用**
6. 导入导出层叠结构
7. **PDN PCB电源分析**
8. 三个栅格都是什么？

![image-20250526223457588](../assets/post-pics/image-20250526223457588.png)

1. Validate工程怎么用
2. 显示差异、版本控制、本地历史
3. 这里前两个按钮就是用于选择过滤器和选择用于捕捉的对象的，两个有什么差别？

![image-20250526223503560](../assets/post-pics/image-20250526223503560.png)

1. 鼠标右键和esc的作用一样
2. sl可以线选

![image-20250526223511717](../assets/post-pics/image-20250526223511717.png)

1. 裁剪多边形铺铜怎么用，是不是可以用来把铜裁整齐？
2. 可以放置尺寸
3. 多看看优秀的板子
4. 用AD导出BOM还是嘉立创导出BOM？

![image-20250526223520915](../assets/post-pics/image-20250526223520915.png)

**其它操作**

1. 要操作哪层先选中哪层，否则选不中该层对象
2. 先确定机械尺寸，绘制keepout并选中外框后dsd（设计→板子形状→按照所选对象定义）确定板框大小
3. 可用工具→交叉选择模式并垂直分屏，框选原理图中的元件来同步选择PCB中的元件，F6（工具→器件摆放→在矩形区域内摆放）来大致规划模块的摆放位置，然后再layout（布线）
4. 常见导入PCB报错的解决方法：（1）unknown footprint : 添加封装（2）unknown pin : 检查封装名称填写是否正确，以及该名称在PCB库中是否有对应的封装，PCB封装的管脚号是否匹配上，位号是否和原理图匹配，封装中是否含有隐藏的管脚
5. 原理图中工具→标注→原理图标注可自动编辑位号
6. 原理图界面Update和PCB界面Import都可以将原理图的更改同步到PCB；在库界面右键元件或在图界面选择工具中的从库更新，可将库的改动更新到图中
7. 工具中的转换可以生成和打散联合
8. 布线时退格可以取消上一步走线
9. 选中文字/器件并查找相似对象可以选中所有文字/器件。全选文字可以编辑文字高度和宽度来批量修改文字大小，全选器件可以ap批量修改器件文本位置（标识符Designator和注释Comment，Comment写芯片型号或者元件参数）
10. 原理图中放置网络（电气连接点在左下角）以分模块设计
11. 取消不必要的DRC（Design Rule Check）检查，只留电气性能检查
12. 原理图和PCB中拖动状态下空格键可以旋转选中的元器件
13. 右下角Panels→PCB可管理类，可以显示/隐藏飞线，更改连线颜色
14. 可以通过查询构建器的过滤，针对网络、类、层创建新规则；并可以设置规则的优先级（数字越小优先级越高）以及是否使能
15. 大致布局完成之后可以对齐和等间距进行美化
16. 器件大于0805封装的，建议采用十字连接处理。大面积铺铜的通孔焊盘一般采用十字连接处理，特别是对于多层板的GND网络通孔管脚，防止焊接时散热过快导致焊接不良。
17. 可以使用过滤器灵活确定筛选范围
18. 未连接的飞线运行DRC后有Un-routed的提示
19. 调整丝印前先查找相似并锁定所有器件，调整丝印后还需要再运行一次DRC
20. logo导入后创建联合，并可以调整联合大小

## 杂项补充

1. 1mm=39.37mil，1Oz（盎司）= 28.35g；1Oz意思是重量1Oz的铜均匀平铺在1平方英尺（FT2）的面积上所达到的厚度。它是用单位面积的重量来表示铜箔的平均厚度。
2. 正片层走线是铜；负片层走线是去铜，可绘制闭合区域进行分割
3. 网络名称相同的相通，走线并添加孔位可以与其它层连接
4. 高速板和低速板的布局原则完全不同，大致可以以700Mbps为界
5. 通孔焊盘用于直插件，用于与外界元件的连接；过孔用于层间线路连接，用于板子内部连接
6. 高速板要做阻抗匹配，根据所选板基厚度和材质，由严格的计算公式得出铜皮厚度
7. 板子层数根据线的总量确定，没有确定的标准；非要说的话，四层板价格稍高、设计布线稍容易、信号质量稍好
8. 板子从里到外分别是铜，阻焊，丝印
9. 泪滴类似于机械设计中打圆角的作用
10. 贴片器件间距，同类器件大于等于0.3mm，不同类器件大于等于0.3+0.13×周围元件最大高度差。手工焊接大于等于1.5mm，直插器件和贴片间距保持1-3mm方便焊接
11. ROOM的作用：不同ROOM之间可以通过规则查询语句使用不同的布线规则，以及多通道时可以以ROOM为单位设计布线规则
12. 铺铜十字连接的作用的防止热胀冷缩时，热了使焊盘鼓起，冷了使连接断裂。十字连接时需要考虑载流能力。焊盘可以考虑采用十字连接，过孔一般都全连接。
13. 扇出/扇孔是多层板设计中在layout前提前从焊盘中心引出线打过孔便于走线的操作
14. BGA指球栅阵列结构的PCB，是集成电路采用有机载板的一种封装法，在 PCB 内部通过位于组件底部的一系列小焊球实现IC之间的连接。BGA 封装具有大量的输入和输出连接。有BGA的PCB板一般小孔较多；通常BGA下过孔设计为成品孔，直径8~12mil；BGA下过孔需塞孔，焊盘不允许上油墨，且焊盘上不钻孔。BGA间距定义为从中心到中心测量的两个相邻焊球之间的距离。随着引脚数量的增加，元件的间距会减小。这种间距的减小使扇出变得复杂。因此，应该添加更多的内部层来布线引脚，这反过来又会增加PCB 制造的成本。由于这些原因，决定所需的层数是一个比较困难的工作。有一个经验公式可以用来决定层数：层数=BGA芯片信号总数/(4面x每面BGA走线信号)

先确定板框大小，确定布局，然后再画每个部分

## 修改建议

泪滴

内八外十mil的过孔载流能力可以吗？

晶振是不是不打孔好？

## TODO

1. 学习层叠设计
2. 常见元器件的种类，电容的温度系数的三个字母简称的标准
3. 学习宇哥双目摄像头板子工程里的规范

学习：（重点看手机传感器和安防传感器，留意网页和数据手册中各个参数以及缩写的含义，ppt汇报所学，多做笔记，留个github仓库，以供同组哥们查询；顺带看一下片子支持的协议，即主控怎么拿到数据，再硬件做出来之后看看基础的处理算法）（选的时候尽量不选带ISP的片子，并着重关注视场角）（还需要了解的基础知识：相机的型号、CMOS尺寸、基础的知识，ISP，图像预处理模块基础知识，CMOS传感器基础，FPGA）

数据手册结构：

1. features特性
2. general description概览
3. absolute max ratings极限指标
4. specification指标（包括图表）
5. pin configuration引脚分配
6. 内部寄存器或协议说明
7. application information应用信息
8. package and other information封装和订购信息

学习阶段看12，器件选型看148，电路设计看578，程序设计看6，机械设计看8

![image-20250526223544350](../assets/post-pics/image-20250526223544350.png)

晶振工作原理

![image-20250526223602001](../assets/post-pics/image-20250526223602001.png)

晶振的核心是具有压电效应的石英晶体，最常见的驱动电路是皮尔斯振荡电路（一种并联型振荡电路），在MCU中，图中的上半部分被集成在芯片内部，外部接入晶振即可，反相器兼具放大信号的作用，输出端能输出稳定的频率。电路依靠振荡电路才可工作，该电路靠上电时对噪声的频率选择，放大谐振频率，产生CPU时钟源

焊锡丝选择：Sn60%Pb40%左右

画板子：按步骤整理注意事项和操作（原理图设计、器件选型、布局层叠、扇孔打孔、布线、铺铜修铜、DRC）

https://blog.csdn.net/li391402/article/details/104407298

https://blog.csdn.net/sky_Buddha/article/details/105285363
